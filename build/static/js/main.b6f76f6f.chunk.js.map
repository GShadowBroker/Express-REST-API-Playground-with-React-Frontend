{"version":3,"sources":["services/phonebook.js","components/Notification.js","components/Phonebook.js","components/Home.js","services/notes.js","components/Notes.js","components/Countries.js","index.js"],"names":["url","axios","get","then","res","data","newObject","post","id","delete","put","Notification","message","className","style","position","bottom","left","transform","boxShadow","border","borderRadius","color","padding","margin","Filter","persons","newSearchTerm","handleSearchChange","filterNames","filter","item","RegExp","test","name","map","key","number","onChange","PersonForm","handleSubmit","handleNameInputChange","handleNumberInputChange","onSubmit","type","Persons","updatePersons","displayDialog","person","Person","onClick","window","confirm","pbService","console","log","catch","Phonebook","useEffect","setPersons","setIsLoading","err","useState","newName","setNewName","newNumber","setNewNumber","setSearchTerm","isLoading","error","setError","msg","setTimeout","e","target","value","preventDefault","newNameObject","some","toLowerCase","find","document","querySelector","newPersons","Home","Note","note","notes","updateNotes","date","content","noteService","alert","Notes","setNotes","newNote","setNewNote","newImportant","setNewImportant","notesList","newNotes","event","important","concat","Result","countries","newCountry","filteredCountries","toggleInfo","nextSibling","classList","toggle","mappedCountries","numericCode","country","length","active","Country","languages","nativeName","capital","population","src","flag","alt","width","city","Weather","weather","setWeather","process","main","temp","description","icon","wind","speed","deg","Countries","setCountries","errors","setErrors","setNewCountry","App","to","path","ReactDOM","render"],"mappings":"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","file":"static/js/main.b6f76f6f.chunk.js","sourcesContent":["import axios from 'axios'\r\n\r\nconst url = '/api/persons'\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(url)\r\n    return request.then(res => res.data)\r\n}\r\n\r\nconst create = (newObject) => {\r\n    const request = axios.post(url, newObject)\r\n    return request.then(res => res.data)\r\n}\r\n\r\nconst remove = (id) => {\r\n    const request = axios.delete(`${url}/${id}`)\r\n    return request.then(res => res.data)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n    const request = axios.put(`${url}/${id}`, newObject)\r\n    return request.then(res => res.data)\r\n}\r\n\r\nexport default { getAll, create, remove, update }","import React from 'react'\r\n\r\nconst Notification = ({ message }) => {\r\n    if (!message) return null\r\n  \r\n    const notificationStyle = {\r\n      position: 'absolute',\r\n      bottom: 0,\r\n      left: '50%',\r\n      transform: 'translate(-50%)',\r\n      boxShadow: '2px 2px 4px #7f8c8d',\r\n      border: '1px solid #e74c3c',\r\n      borderRadius: 5,\r\n      color: '#e74c3c',\r\n      padding: 20,\r\n      margin: 15\r\n    }\r\n  \r\n    return (\r\n      <div className=\"error\" style={ notificationStyle }>\r\n        { message }\r\n      </div>\r\n    )\r\n}\r\n\r\nexport default Notification","import React, { useState, useEffect } from 'react'\r\nimport pbService from '../services/phonebook'\r\nimport Notification from './Notification'\r\n\r\nconst Phonebook = () => {\r\n  useEffect(() => {\r\n    pbService\r\n      .getAll()\r\n      .then(data => {\r\n        setPersons(data)\r\n        setIsLoading(false)\r\n      })\r\n      .catch(err => {\r\n        displayDialog('There was an error retrieving phonebook data.')\r\n        setIsLoading(false)\r\n      })\r\n  }, [])\r\n\r\n  /*State*/\r\n  const [ persons, setPersons ] = useState([]) \r\n  const [ newName, setNewName ] = useState('')\r\n  const [ newNumber, setNewNumber ] = useState('')\r\n  const [ newSearchTerm, setSearchTerm ] = useState('')\r\n  const [ isLoading, setIsLoading ] = useState(true)\r\n  const [ error, setError ] = useState(null)\r\n\r\n  /*Methods*/\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault()\r\n\r\n    let newNameObject = {\r\n      name: newName,\r\n      number: newNumber\r\n    }\r\n\r\n    if (persons.some(item => item.name.toLowerCase() === newName.toLowerCase())) {\r\n      const question = window.confirm(`${newName} is already added to the Phonebook. Update phone number with the newer one?`)\r\n      if (!question) return\r\n\r\n      const target = persons.find(item => item.name === newName)\r\n      pbService\r\n        .update(target.id, {...target, number: newNumber})\r\n        .then(data => {\r\n          console.log(data)\r\n          setPersons(persons.map(item => item.name === newName\r\n            ? {...item, number: newNumber}\r\n            : item))\r\n          setIsLoading(false)\r\n        })\r\n        .catch(() => {\r\n          displayDialog('There was an error updating the record.')\r\n          setIsLoading(false)\r\n        })\r\n      \r\n      document.querySelector('#name_input').value = ''\r\n      document.querySelector('#number_input').value = ''\r\n      return\r\n    }\r\n\r\n    pbService\r\n      .create(newNameObject)\r\n      .then(person => {\r\n        setPersons([...persons, person])\r\n        setIsLoading(false)\r\n      })\r\n      .catch(err => {\r\n        displayDialog('There was an error creating a new record.')\r\n        setIsLoading(false)\r\n      })\r\n\r\n    document.querySelector('#name_input').value = ''\r\n    document.querySelector('#number_input').value = ''\r\n  }\r\n\r\n  const handleSearchChange = (e) => {\r\n    setSearchTerm(e.target.value)\r\n  }\r\n\r\n  const handleNameInputChange = (e) => {\r\n    setNewName(e.target.value)\r\n  }\r\n\r\n  const handleNumberInputChange = (e) => {\r\n    setNewNumber(e.target.value)\r\n  }\r\n\r\n  const displayDialog = (msg) => {\r\n    setError(msg)\r\n\r\n    setTimeout(() => {\r\n      setError(null)\r\n    }, 5000)\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h1>Phonebook</h1>\r\n      <Filter\r\n        persons={ persons } //State\r\n        newSearchTerm={ newSearchTerm } //State\r\n        handleSearchChange={ handleSearchChange } //Callback\r\n      />\r\n      <h2>Add New</h2>\r\n      <PersonForm\r\n        handleSubmit={ handleSubmit }\r\n        handleNameInputChange={ handleNameInputChange }\r\n        handleNumberInputChange={ handleNumberInputChange }\r\n      />\r\n      <h2>Numbers</h2>\r\n      <Notification message={ error } />\r\n      { isLoading ? <h3>Loading...</h3> : null }\r\n      { persons\r\n        ? <Persons\r\n            persons={ persons }\r\n            updatePersons={ (newPersons) => setPersons(newPersons) }\r\n            displayDialog={ displayDialog } />\r\n        : <p>Cannot reach phonebook.</p> }\r\n    </div>\r\n  )\r\n}\r\n  \r\nconst Filter = ({ persons, newSearchTerm, handleSearchChange }) => {\r\n\r\n    const filterNames = persons\r\n        .filter(item => {\r\n        let re = new RegExp(newSearchTerm, 'i')\r\n        return re.test(item.name)\r\n        })\r\n        .map(item => <li key={ item.id }>{ item.name } { item.number }</li>)\r\n\r\n    return (\r\n        <div className=\"filter\">\r\n        <div className=\"search\">\r\n            Filter shown with <input id=\"search_input\" onChange={ handleSearchChange } />\r\n            <ul>{ newSearchTerm ? filterNames : null }</ul>\r\n        </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst PersonForm = ({ handleSubmit, handleNameInputChange, handleNumberInputChange }) => {\r\n    return (\r\n        <div className=\"person-form\">\r\n        <form onSubmit={ handleSubmit }>\r\n            <div>\r\n                name: <input id=\"name_input\" onChange={ handleNameInputChange } />\r\n            </div>\r\n            <div>\r\n                number: <input id=\"number_input\" onChange={ handleNumberInputChange } />\r\n            </div>\r\n            <div>\r\n                <button type=\"submit\">add</button>\r\n            </div>\r\n        </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst Persons = ({ persons, updatePersons, displayDialog }) => {\r\n  return (\r\n    <div className=\"persons\">\r\n        <table>\r\n          <tbody>\r\n            {\r\n              persons\r\n                .map(person =>\r\n                  <Person\r\n                    key={ person.id }\r\n                    person={person}\r\n                    updatePersons={ updatePersons }\r\n                    persons={persons}\r\n                    displayDialog={displayDialog} />)\r\n            }\r\n          </tbody>\r\n        </table>\r\n    </div>\r\n  )\r\n}\r\n\r\nconst Person = ({ person, persons, updatePersons, displayDialog }) => {\r\n  const handleDelete = () => {\r\n    const question = window.confirm(`Are you sure you want to delete ${person.name}?`)\r\n    if (!question) return\r\n\r\n    pbService\r\n      .remove(person.id)\r\n      .then(data => {\r\n        console.log(data)\r\n        updatePersons(persons.filter(item => item.id !== person.id))\r\n      })\r\n      .catch(() => displayDialog('There was an error trying to delete record. Please refresh browser and try again.'))\r\n  }\r\n  return (\r\n    <tr>\r\n      <td>{ person.name }</td>\r\n      <td>{ person.number }</td>\r\n      <td><button onClick={ handleDelete }>delete</button></td>\r\n    </tr>\r\n  )\r\n}\r\n\r\nexport default Phonebook","import React from 'react'\r\n\r\nconst Home = () => {\r\n    return (\r\n        <div className=\"home\">\r\n            <h1>Home</h1>\r\n            <p>Here's the root of all apps!</p>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Home","import axios from 'axios'\r\n\r\nconst url = '/api/notes'\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(url)\r\n    return request.then(res => res.data)\r\n}\r\n\r\nconst create = (newObject) => {\r\n    const request = axios.post(url, newObject)\r\n    return request.then(res => res.data)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n    const request = axios.put(`${url}/${id}`, newObject)\r\n    return request.then(res => res.data)\r\n}\r\n\r\nconst remove = (id) => {\r\n    const request = axios.delete(`${url}/${id}`)\r\n    return request.then(res => res.data)\r\n}\r\n\r\nexport default {\r\n    getAll,\r\n    create,\r\n    update,\r\n    remove\r\n}","import React, { useEffect, useState } from 'react'\r\nimport noteService from '../services/notes'\r\n\r\nconst Notes = () => {\r\n\r\n    const [ notes, setNotes ] = useState([])\r\n    const [ newNote, setNewNote ] = useState('')\r\n    const [ newImportant, setNewImportant ] = useState(false)\r\n    const [ isLoading, setIsLoading ] = useState(true)\r\n    const [ error, setError ] = useState(null)\r\n\r\n    useEffect(() => {\r\n        noteService\r\n            .getAll()\r\n            .then(data => {\r\n                console.log(data)\r\n                setNotes(data)\r\n                setIsLoading(false)\r\n            })\r\n            .catch(err => {\r\n                console.log(err)\r\n                setError(err)\r\n                setIsLoading(false)\r\n            })\r\n    }, [])\r\n\r\n    const addNote = event => {\r\n        event.preventDefault()\r\n        const noteObject = {\r\n            content: newNote,\r\n            important: newImportant\r\n        }\r\n      \r\n        noteService\r\n            .create(noteObject)\r\n            .then(data => {\r\n                console.log(data)\r\n                setNotes(notes.concat(data))\r\n                setNewNote('')\r\n                setNewImportant(false)\r\n          })\r\n    }\r\n\r\n    const notesList = notes.map(item =>\r\n        <Note\r\n            key={ item.id }\r\n            note={ item }\r\n            notes={ notes }\r\n            updateNotes={ (newNotes) => setNotes(newNotes) }\r\n        />)\r\n\r\n    return (\r\n        <div className=\"something\">\r\n            <h1>Add note</h1>\r\n            <form onSubmit={ addNote }>\r\n                <div>\r\n                    Content <input type=\"text\" onChange={ (e) => setNewNote(e.target.value) } value={ newNote }/>\r\n                </div>\r\n                <div>\r\n                    Important <select onChange={ (e) => setNewImportant(e.target.value) }>\r\n                        <option value=\"false\">No</option>\r\n                        <option value=\"true\">Yes</option>\r\n                    </select>\r\n                </div>\r\n                <input type=\"submit\" value=\"Save\"/>\r\n            </form>\r\n            <h1>Notes</h1>\r\n            { isLoading ? <h3>Loading...</h3> : null }\r\n            <table>\r\n                <tbody>\r\n                    { notes && !error ? notesList : <li>No notes have been found.</li> }\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst Note = ({ note, notes, updateNotes, displayDialog }) => {\r\n\r\n    const deleteNote = (e) => {\r\n        const question = window.confirm(`Are you sure you want to delete this note?`)\r\n        if (!question) return\r\n\r\n        noteService\r\n            .remove(note.id)\r\n            .then(() => updateNotes(notes.filter(item => item.id !== note.id)))\r\n            .catch(() => alert(\"Error trying to delete the note. Please refresh the page and try again.\"))\r\n    }\r\n\r\n    return (\r\n        <tr>\r\n            <td>{ note.date }</td>\r\n            <td>{ note.content }</td>\r\n            <td>\r\n                <button onClick={ deleteNote }>Delete</button>\r\n            </td>\r\n        </tr>\r\n    )\r\n}\r\n\r\nexport default Notes","import React, { useState, useEffect } from 'react'\r\nimport axios from 'axios'\r\nimport './Countries.css'\r\n\r\nconst Countries = () => {\r\n    const [ countries, setCountries ] = useState([])\r\n    const [ errors, setErrors ] = useState(null)\r\n    const [ newCountry, setNewCountry ] = useState('')\r\n\r\n    useEffect(() => {\r\n        axios.get(\"https://restcountries.eu/rest/v2/all\")\r\n            .then(res => setCountries(res.data))\r\n            .catch(err => setErrors(err))\r\n    }, [])\r\n\r\n    const handleInputChange = (e) => {\r\n        setNewCountry(e.target.value)\r\n    }\r\n    \r\n    return (\r\n        <div className=\"countries\">\r\n            <h1>Countries</h1>\r\n            <div>\r\n                Find countries <input onChange={ handleInputChange } />\r\n            </div>\r\n            <div>\r\n                <ul>\r\n                    { newCountry && !errors ? <Result countries={countries} newCountry={newCountry} /> : null }\r\n                </ul>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst Result = ({ countries, newCountry }) => {\r\n\r\n    const filteredCountries = countries.filter(item => {\r\n        let re = new RegExp(`^${newCountry}`, 'i')\r\n        return re.test(item.name)\r\n    })\r\n\r\n    const toggleInfo = (e) => {\r\n        e.target.nextSibling.classList.toggle('active')\r\n    }\r\n\r\n    const mappedCountries = filteredCountries\r\n        .map(item => <li key={ item.numericCode }>\r\n                { item.name } <button className=\"show-btn\" onClick={ toggleInfo }>Show</button>\r\n                <Country country={ item } />\r\n            </li>)\r\n\r\n    if (mappedCountries.length === 0) return <span>No matches, specify another filter.</span>\r\n    if (mappedCountries.length > 10) return <span>Too many matches, specify another filter.</span>\r\n    if (mappedCountries.length > 1) return mappedCountries\r\n\r\n    const country = filteredCountries[0]\r\n    const active = true\r\n\r\n    return <Country country={ country } active={ active } />\r\n}\r\n\r\nconst Country = ({ country, active }) => {\r\n\r\n    const languages = country.languages.map(item => <li key={ item.nativeName }>{ item.name }</li>)\r\n    return (\r\n        <div className={ active ? 'country-info active' : 'country-info' }>\r\n            <h2>{ country.name }</h2>\r\n            <p>Capital: { country.capital }</p>\r\n            <p>Population: { country.population } habitants</p>\r\n            <h3>Languages</h3>\r\n            <ul>\r\n                { languages }\r\n            </ul>\r\n            <br/>\r\n            <img src={ country.flag } alt={ country.name } width=\"200\"/>\r\n\r\n            <Weather city={ country.capital } />\r\n        </div>\r\n    )\r\n}\r\n\r\nconst Weather = ({ city }) => {\r\n\r\n    const [weather, setWeather] = useState(null)\r\n    const [error, setError] = useState(null)\r\n\r\n    useEffect(() => {\r\n        const getWeather = () => {\r\n            const apiKey = process.env.REACT_APP_WEATHER_API_KEY\r\n            axios.get(`http://api.openweathermap.org/data/2.5/weather?q=${city}&appid=${apiKey}`)\r\n                .then(res => {\r\n                    console.log(res.data)\r\n                    setWeather(res.data)\r\n                })\r\n                .catch(err => setError(err))\r\n        }\r\n        getWeather()\r\n    }, [city])\r\n\r\n    return weather && !error\r\n        ? (<div className=\"weather\">\r\n                <h3>Weather in { city }</h3>\r\n                <p><strong>Temperature:</strong> { weather.main.temp }º { weather.weather[0].description }</p>\r\n                <img src={`http://openweathermap.org/img/wn/${weather.weather[0].icon}@2x.png`} alt={ weather.weather[0].description }/>\r\n                <p><strong>Wind:</strong> { weather.wind.speed } mph { weather.wind.deg } deg</p>\r\n            </div>)\r\n        : <p>Cannot retrieve weather data.</p>\r\n}\r\n\r\nexport default Countries","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter as Router, Switch, Route, Link } from 'react-router-dom'\nimport Phonebook from './components/Phonebook'\nimport Home from './components/Home'\nimport Notes from './components/Notes'\nimport Countries from './components/Countries'\n\nconst App = () => {\n  \n  return (\n    <Router>\n      <nav>\n        <ul>\n          <li>\n            <Link to=\"/\">Home</Link>\n          </li>\n          <li>\n            <Link to=\"/phonebook\">Phonebook</Link>\n          </li>\n          <li>\n            <Link to=\"/notes\">Notes</Link>\n          </li>\n          <li>\n            <Link to=\"/countries\">Countries</Link>\n          </li>\n        </ul>\n      </nav>  \n      <Switch>\n        <Route path=\"/phonebook\">\n          <Phonebook />\n        </Route>\n        <Route path=\"/notes\">\n          <Notes />\n        </Route>\n        <Route path=\"/countries\">\n          <Countries />\n        </Route>\n        <Route path=\"/\">\n          <Home />\n        </Route>\n      </Switch>\n    </Router>\n  )\n}\n\nReactDOM.render(<App />, document.querySelector('#root'))"],"sourceRoot":""}